<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app"></div>
    <script>

        //model
        const model = {
            car:{
                brand: 'ford',
                year: 2020,
            },
            newPerson :{
                name: 'Bjørnar',
                teaching: 'modul 3',
                // alder: 32,
            },
            personsWithObjects: [ 
            {
                name: 'therese',
                teaching: 'Modul 1'
            },
            {
                name: 'Terje',
                teaching: 'The Boss'
            },
            {
                name: 'marie',
                teaching: 'Modul 1 & Get Prep'
            },
            {
                name: 'joakim',
                teaching: 'Modul 2'
            },

        ]
        }
        let animals= [['ku', 'hest', 'sau'], ['katt', 'mus'], ['hund']];
        let persons= ['therese', 'terje', 'marie', 'joakim'];
        let currentDeletedPerson = '';
         let therese = {name: 'therese', teaching: 'Modul 1'}
      
        

        //view
        show()
        function show(){
            let html = '';
            // console.log(animals.flat())
            // for(let i = 0; i < animals.length; i++){
            //     html += `<div>Husstand nr: ${i +1}</div>`
            //     for(let j = 0; j < animals[i].length; j++){
            //         html += `<div> dyr nr ${j + 1} ${animals[i][j]} </div> 
            //        `
            //     }
            //     html += `<hr>`
            //     // html += `<div> dyr nr 1${animals[i][0]} </div> <br>`
            //     // html += `<div> dyr nr 2${animals[i][1]} </div><hr>`
            // }

            // for(let i = 0; i < persons.length; i++){
            //     html += `<div> ${persons[i]} <button onclick="deletePerson(${i})"> x </button></div>`
            // }
            //     html += `<button onclick="undo()"> undo</button>`

            for(let i = 0; i < model.personsWithObjects.length; i++){
                html += `<div>
                     navn: ${model.personsWithObjects[i].name} <br> 
                    lærer: ${model.personsWithObjects[i].teaching} 
                    <button onclick="change(${i})"> endre</button><hr> </div>`
            }
            html += `<button onclick="addNewPersontoModel()"> legg til </button>`

            document.getElementById('app').innerHTML = html;
        }

        //controller

        function deletePerson(index){
            // currentDeletedPerson = persons[index]
            currentDeletedPerson= persons.splice(index, 1);
            show();
        }

        function undo(){
            if(currentDeletedPerson != ''){
                persons.push(currentDeletedPerson);
                currentDeletedPerson ='';
            }
           
            show();
        }
        function addPerson(){
            model.personsWithObjects.push(model.newPerson)
            show();
        }
        function addNewPersontoModel(){
            model.therese = {Name: 'Therese', Teaching : 'Modul 1'}
        }

        function change(index){
            model.personsWithObjects[index].name = 'Nytt navn';
            model.personsWithObjects[index].alder = 21;
            // model.car.brand = 'ny bil'
            show();
        }
    </script>
</body>
</html>